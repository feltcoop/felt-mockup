<script>
	import { getJsonType } from '@app/json/index.js';

	export let json;
	export let indentedClasses = 'pl-6';

	$: jsonType = getJsonType(json);
</script>

{#if jsonType === 'number'}
	<span class="text-yellow-700">{json}</span>
	<!-- <small class="bg-gray-200 mx-2">number</small> -->
{:else if jsonType === 'string'}
	<span class="text-green-700">'{json}'</span>
	<!-- <small class="bg-gray-200 mx-2">string</small> -->
{:else if jsonType === 'boolean'}
	<span class="text-blue-700">{json}</span>
	<!-- <small class="bg-gray-200 mx-2">boolean</small> -->
{:else if jsonType === 'null'}
	<span class="text-gray-500">null</span>
{:else if jsonType === 'array'}
	[
	{#each json as item}
		<svelte:self json={item} />
		{','}
	{/each}
	]
{:else}
	{'{'}
	{#each Object.keys(json) as key}
		<div class={indentedClasses}>
			<span>{key}:</span>
			<svelte:self json={json[key]} />
		</div>
	{/each}
	{'},'}
{/if}
